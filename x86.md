##prerequisites:
 * History: protected mode，1982 80286 first introduced.


 * asm:
	 * 2 flavors: intel, at&t.
			
			diff
				1. two oprand cmd: at&t src, dst;
	 * gcc x86 (uses at&t) cheat sheet, see: [https://www.cs.uaf.edu/2005/fall/cs301/support/x86/index.html]()
	 * nasm (uses intel)
	 * rules:
	 
			1. forbid 'segment reg <- immediate value'


 * 8086 memory segmentation:
	 * register having 16bits , determines segement size (no more than 2^16=64k)
	 * complication: x86 has 20bit address bus, meaning CPU can address up to 1MB = 16*64k memory).
	 * design against complication:

			logic address `DS:SI`, 
			physical address:`DS<<16+SI`
 * boot sequence:
	 * `power --> BIST --> BIOS --> MBR --> bootloader --> os`

 * hdd physical organizations: ([http://sabercomlogica.com/en/]())
	 * HDD addressing: 
		 * physical level--magnetic field, inversion/non-inversion
		 * machine level--CHS (**C**ylinder **H**ead **S**ector):  
		   platter(面),  track(道),  sector(区)  
		 * hardware level--LBA (**L**ogic **B**lock **A**ddressing):  
		   implemented by logic board of an HDD
		 * OS level--Files
		 * general view:

  
				       +--+         +-----------+         +---+
				File-->|OS|-->LBA-->|logic board|-->CHS-->|HDD|-->mag inv
				       +--+         +-----------+         +---+
	 * if hdd is the boot device, on power up, BIOS  will try to read platter0,track0,sector1 (MBR).

 * video card
	 * video card tells monitor what to display:  
	   `periodically, draw bits in vram, translate into pixels`
	   `two display modes, translate differently`
	 * Graphics mode:
		 * map a number of bits to a pixel
		 * real color:
			 * 3Bytes = 24bits represents 1pixel, that's 2^24 colors.
   * Text mode:
	   * map a number of bits to a character, then let character generators handles pixels.

##real mode:
 * 8086 memory mapping:
	 * can address up to 1MB = 16 * 64KB


	 		+-------------+
	 		|F0000 ~ FFFFF| ==> (1*64KB) BIOS-ROM
	 		+-------------+ 
	 		|E0000 ~ EFFFF| \
	 		+-------------+  |
	 		|    .....    |   > (5*64KB) Expansion Device RAM
	 		+-------------+  |
	 		|A0000 ~ AFFFF| /  (Video Display RAM B0000~BFFFF)
	 		+-------------+
	 		|90000 ~ 9FFFF| \
	 		+-------------+  |
	 		|    .....    |   > (10*64KB) Main Memory
	 		+-------------+  |
	 		|00000 ~ 0FFFF| /
	 		+-------------+

	 * arith:
		 * div: 
	 * little-endian:  

				;intel grammar.
		 		number db 0x34,0x12
		 		mov ax,number
		 		;ax is actually 0x1234 instead of 0x3412.
		 		; what happened after 'mov ax,number': 
		 		;    in ram:         |    in ax:
		 		;    +----+  /\      |    +----+----+ 
		 		;    |0x12|  ||      |    |0x12|0x34|
		 		;    +----+  ||      |    +----+----+
		 		;    |0x34|  ||      |      ah   al
		 		;    +----+          |
		 		